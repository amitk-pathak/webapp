<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Results</title>
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" href="/static/css/styles.css">
    <style>
        /* Highlight selected row */
        tr.selected {
            background-color: #d1e7fd !important;
        }
    </style>
</head>
<body>
    <h1>Potential Client List</h1>

    <!-- Results Table -->
    <table id="results-table">
        <thead>
            <tr>
                <th>S.No.</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Title</th>
                <th>Organization</th>
                <th>Has Email</th>
                <th>Has Phone</th>
            </tr>
        </thead>
        <tbody>
            {% for person in data.people %}
                <tr data-name="{{ person.first_name }}" data-title="{{ person.title }}">
                    <td>{{ loop.index + (data.page - 1) * data.page_size }}</td>
                    <td>{{ person.first_name }}</td>
                    <td>{{ person.last_name_obfuscated }}</td>
                    <td>{{ person.title }}</td>
                    <td>{{ person.organization.name }}</td>
                    <td>{{person.has_email }}</td>
                    <td>{{person.has_direct_phone }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <button id="show-details-btn" disabled>Show Details</button>

    <!-- Details Section -->
    <div id="details-section" style="margin-top: 20px; display: none;">
        <h2>Details</h2>
        <p><strong>Name:</strong> <span id="detail-name"></span></p>
        <p><strong>Title:</strong> <span id="detail-title"></span></p>
    </div>

    <!-- Pagination Controls -->
    <div id="pagination-controls">
        {% if data.page > 1 %}
            <a href="{{ url_for('results', page=data.page - 1) }}">Previous</a>
        {% endif %}
        <span>Page {{ data.page }} of {{ data.total_pages }}</span>
        {% if data.page < data.total_pages %}
            <a href="{{ url_for('results', page=data.page + 1) }}">Next</a>
        {% endif %}
    </div>
    
    <!-- Link to the external JavaScript file -->
    <script src="/static/js/selected.js"></script>
</body>
</html>